@model HOA.Controllers.StatsModel

@{
    ViewBag.Title = "Stats";
    ViewBag.Section = "Stats";
}

@section HeaderExtras
{
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.3.0/Chart.min.js"></script>
}



<canvas id="canvas"></canvas>


<script>
            var MONTHS = [
            @foreach (Tuple<string, int> dat in Model.ByMonth)
            {
                @Html.Raw(string.Format("\"{0}\",", dat.Item1))
            }
            ];

    var VALUES = [
        @foreach (Tuple<string, int> dat in Model.ByMonth)
    {
                @Html.Raw(string.Format("{0},", dat.Item2))
    }

    ]

            var barChartData = {
            labels: MONTHS,
            datasets: [{
            backgroundColor: "#DBF2F2",
                data: VALUES
            }]
        };
        window.onload = function() {
            var ctx = document.getElementById("canvas").getContext("2d");
            window.myBar = new Chart(ctx, {
                type: 'bar',
                data: barChartData,
                options: {
            // Elements options apply to all of the options unless overridden in a dataset
            // In this case, we are setting the border of each bar to be 2px wide and green
            elements: {
                rectangle: {
                    borderWidth: 2,
                            borderColor: '#4BC0C0',
                            borderSkipped: 'bottom'
                        }
                },
                    responsive: true,
                    legend: {
                display: false,
                    },
                    title: {
                display: true,
                        text: 'Submissions by month'
                    }
            }
        });
        };
</script>
